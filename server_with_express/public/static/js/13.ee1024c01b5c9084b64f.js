webpackJsonp([13],{1080:function(t,e,a){a(1187);var r=a(9)(a(1109),a(1237),null,null);t.exports=r.exports},1109:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(50),n=a.n(r),l=(a(127),a(32)),o=(a(163),a(128)),i=(a(249),a(162),a(164)),s=(a.n(i),a(1129)),c=a(409),p=a.n(c);e.default={name:"AgencyInfo",data:function(){return{time:"",isLoading:!0,Canals:[],total:0,daterange:[],tableData:{depositShareDate:"-- --",depositShareProfitAmt:"0",agentialShareProfitDate:"-- --",agentialShareProfitAmt:"0"},queryData:{startDate:"",endDate:"",mchtMngName:"",mchtChlNo:"",mchtName:"",mchtSimpleName:"",pageNo:1,pageSize:8}}},methods:{downloadClick:function(){var t=this,e={flag:"01"};e.phoneNo=this.getSystemUserInfo.phoneNo,this.daterange&&(e.startDate=p.a.getFullDate(this.daterange[0]),e.endDate=p.a.getFullDate(this.daterange[1])),this.queryData.mchtMngName&&(e.mchtMngName=this.queryData.mchtMngName),this.queryData.mchtChlNo&&(e.mchtChlNo=this.queryData.mchtChlNo),this.queryData.mchtName&&(e.mchtName=this.queryData.mchtName),this.queryData.mchtSimpleName&&(e.mchtSimpleName=this.queryData.mchtSimpleName);var r=this.$urlParams(e);r=s.a+"?"+r,this.download_loading=!0,window.open(r),a.i(i.setTimeout)(function(){t.download_loading=!1},2e3)},goPrePage:function(){this.queryData.pageNo--,this.queryReport()},goNextPage:function(){this.queryData.pageNo++,this.queryReport()},pageChange:function(t){this.queryData.pageNo=t,this.queryReport()},queryCanels:function(){var t=this,e={phoneNo:this.getSystemUserInfo.phoneNo,userId:this.getSystemUserInfo.userId};this.$ajaxPromise(s.b,e,"POST",!0).then(function(e){e.chlList.forEach(function(e){t.Canals.push({label:e.mchtChlName,value:e.mchtChlNo})})}).catch(function(e){"4110081"==e.respCode&&t.$emit("logout")})},queryReport:function(){var t=this;this.checkDateRange()&&(this.queryData.startDate=p.a.getFullDate(this.daterange[0]),this.queryData.endDate=p.a.getFullDate(this.daterange[1]),this.$ajaxPromise(s.c,this.queryData,"POST",!0).then(function(e){t.tableData=e,t.total=e.totalCnt}).catch(function(e){"4110081"==e.respCode&&t.$emit("logout")}))},checkDateRange:function(){var t=new Date(this.daterange[0]),e=new Date(this.daterange[1]);return(new Date).getTime()-t.getTime()>63072e6?(this.$notify({title:"提示",message:"仅支持查询两年内的数据",type:"error",duration:2e3}),!1):!(e.getTime()-t.getTime()>78624e5&&(this.$notify({title:"提示",message:"仅支持查询间隔3个月内的数据",type:"error",duration:2e3}),1))}},components:{NavHeader:o.a},mounted:function(){var t=p.a.changeDay(new Date,-1);this.queryData.phoneNo=this.getSystemUserInfo.phoneNo,this.daterange.push(t),this.daterange.push(t),this.queryCanels()},computed:n()({},a.i(l.c)({getSystemUserInfo:"getSystemUserInfo"})),filters:{bankNumberFormate:function(t){var e=t;return e.substring(0,4)+" **** **** "+e.substring(e.length-4,e.length)},mchtIdFormate:function(t){return t.substring(0,4)+"*****"+t.substring(t.length-4,t.length)},regDateFormate:function(t){return t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8)},priceFormate:function(t){var e=""+t;return-1==e.indexOf(".")?e+".00":1==e.split(".")[1].length?e+"0":e}}}},1129:function(t,e,a){"use strict";a.d(e,"c",function(){return n}),a.d(e,"b",function(){return l}),a.d(e,"a",function(){return o});var r=a(129),n="/SOA/411.411193",l="/SOA/411.411192",o=r.a+"/411.411194"},1165:function(t,e,a){e=t.exports=a(1075)(),e.push([t.i,".agencyreport .content{min-height:500px;margin:24px;background:#fff;padding:29px 32px}.agencyreport .el-input__inner{line-height:32px;height:32px}.agencyreport .el-select{width:80%}.agencyreport .el-select>.el-input{width:100%}.agencyreport .el-input{width:80%;height:32px}.agencyreport .el-input__icon{line-height:32px}.agencyreport .el-date-editor{width:80%;height:32px}.agencyreport .el-button{width:64px;height:32px;padding:7px 18px;font-size:14px;background:#ff5505;color:#fff}.agencyreport label{font-size:14px}.agencyreport p.title{font-size:14px;color:rgba(0,0,0,.85);line-height:20px}.agencyreport p.value{font-size:28px;color:#f4b900}.agencyreport .el-table .cell{text-align:center}.agencyreport .el-pagination__editor{width:48px}.agencyreport .el-date-editor .el-range__icon{line-height:16px}.agencyreport p{margin:0}",""])},1187:function(t,e,a){var r=a(1165);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(1076)("6df4727b",r,!0)},1237:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("common-page",{staticClass:"agencyreport",attrs:{"is-loading":t.isLoading}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("nav-header",{attrs:{"first-title":"代理商","second-title":"代理业绩报表","third-title":"代理业绩报表"}}),t._v(" "),a("div",{staticClass:"content"},[a("el-row",{staticStyle:{"margin-bottom":"16px"}},[a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("交易日期：")]),t._v(" "),a("el-date-picker",{attrs:{align:"right",placeholder:"选择日期",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.daterange,callback:function(e){t.daterange=e},expression:"daterange"}})],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("商户简称：")]),a("el-input",{model:{value:t.queryData.mchtSimpleName,callback:function(e){t.$set(t.queryData,"mchtSimpleName",e)},expression:"queryData.mchtSimpleName"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"16px"}},[a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("所属渠道：")]),t._v(" "),a("el-select",{attrs:{clearable:""},model:{value:t.queryData.mchtChlNo,callback:function(e){t.$set(t.queryData,"mchtChlNo",e)},expression:"queryData.mchtChlNo"}},t._l(t.Canals,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("商户全称：")]),a("el-input",{model:{value:t.queryData.mchtName,callback:function(e){t.$set(t.queryData,"mchtName",e)},expression:"queryData.mchtName"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"32px"}},[a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("上级商户：")]),a("el-input",{model:{value:t.queryData.mchtMngName,callback:function(e){t.$set(t.queryData,"mchtMngName",e)},expression:"queryData.mchtMngName"}})],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{on:{click:t.queryReport}},[t._v("查询")]),t._v(" "),a("el-button",{on:{click:t.downloadClick}},[t._v("导出")])],1)],1),t._v(" "),a("el-row",{staticStyle:{padding:"24px 0",background:"rgba(250,250,250,1)",margin:"24px 0"}},[a("el-col",{staticStyle:{padding:"0 24px","border-right":"1px solid rgba(232,232,232,1)"},attrs:{span:6}},[a("p",{staticClass:"title"},[t._v("返佣月份")]),t._v(" "),a("p",{staticClass:"value"},[t._v(t._s(t.tableData.depositShareDate))])]),t._v(" "),a("el-col",{staticStyle:{padding:"0 24px","border-right":"1px solid rgba(232,232,232,1)"},attrs:{span:6}},[a("p",{staticClass:"title"},[t._v("存款返佣")]),t._v(" "),a("p",{staticClass:"value"},[t._v(t._s(t._f("priceFormate")(t.tableData.depositShareProfitAmt/100)))])]),t._v(" "),a("el-col",{staticStyle:{padding:"0 24px","border-right":"1px solid rgba(232,232,232,1)"},attrs:{span:6}},[a("p",{staticClass:"title"},[t._v("分润日期")]),t._v(" "),a("p",{staticClass:"value",staticStyle:{color:"rgba(53,4,64,1)","font-weight":"400"}},[t._v(t._s(t.tableData.agentialShareProfitDate))])]),t._v(" "),a("el-col",{staticStyle:{padding:"0 24px"},attrs:{span:6}},[a("p",{staticClass:"title"},[t._v("代理商分润")]),t._v(" "),a("p",{staticClass:"value",staticStyle:{color:"rgba(53,4,64,1)","font-weight":"500"}},[t._v(t._s(t._f("priceFormate")(t.tableData.agentialShareProfitAmt/100)))])])],1),t._v(" "),a("el-table",{attrs:{data:t.tableData.mchtList,"empty-text":" "}},[a("el-table-column",{attrs:{label:"日期",prop:"agentialDate",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("\n                            "+t._s(t._f("regDateFormate")(e.row.agentialDate))+"\n                        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"渠道",prop:"mchtChlName"}}),t._v(" "),a("el-table-column",{attrs:{label:"上级商户全称",prop:"mchtMngName",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"商户全称",prop:"mchtName",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"商户简称",prop:"mchtSimpleName",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"商户编号",prop:"mchtId",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("\n                            "+t._s(e.row.mchtId)+"\n                        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结算账户",prop:"setlAcctName"}}),t._v(" "),a("el-table-column",{attrs:{label:"结算账号",prop:"setlAcctNo",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("\n                            "+t._s(t._f("bankNumberFormate")(e.row.setlAcctNo))+"\n                        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"上月日均存款",prop:"dayDepositL",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("\n                            "+t._s(t._f("priceFormate")(e.row.dayDepositL/100))+"\n                        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"存款返佣金额",prop:"depositShareProfitAmt",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("\n                            "+t._s(t._f("priceFormate")(e.row.depositShareProfitAmt/100))+"\n                        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"日交易金额",prop:"datTotalAmt",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("\n                            "+t._s(t._f("priceFormate")(e.row.datTotalAmt/100))+"\n                        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"代理商分润金额",prop:"agentialShareProfitAmt",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("\n                            "+t._s(t._f("priceFormate")(e.row.agentialShareProfitAmt/100))+"\n                        ")])]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"16px"},attrs:{background:"",total:t.total,"page-size":"8",layout:"total,->,prev,pager,next,jumper"},on:{"prev-click":t.goPrePage,"next-click":t.goNextPage,"current-change":t.pageChange}})],1)],1)])},staticRenderFns:[]}}});