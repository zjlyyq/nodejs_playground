webpackJsonp([8],{1081:function(e,t,a){a(1196);var s=a(9)(a(1110),a(1246),null,null);e.exports=s.exports},1110:function(e,t,a){"use strict";function s(e){e.forEach(function(e){e.disabled="true",e.children&&s(e.children)})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(50),o=a.n(i),r=a(127),l=a(1201),n=a.n(l),d=a(1131),c=a(1130),h=a(32),u=(a(163),a(128)),p=a(249),m=a(162),f=a(164);a.n(f);t.default={name:"CommerceInfo",mixins:[r.a,r.b,r.c,r.d],components:{NavHeader:u.a},watch:{show_add_tree:function(e){this.addForm.up=e}},data:function(){var e=this,t=function(e,t,a){t&&0!=t.length?a():a(new Error("请勾选权限"))};return{pageNo:1,lock:!1,showDeleteNotice:!1,loading_of_add:!1,label:"right",quanxianTree:[],finderNode:void 0,quanxianSelected:[],showQuanxianTable:!1,rules:{userName:[{pattern:/^[a-zA-Z0-9]{8,16}$/,message:"请输入8-16位数字和字母的组合",trigger:"blur"},{validator:function(t,a,s){var i=/^[a-zA-Z0-9]{8,16}$/;a||s(new Error("请输入用户名"));var o=/^[0-9]{1,16}$/,r=/^[a-zA-Z]{1,16}$/;if(o.exec(a))s(new Error("登录用户为8-16位数字和字母的组合"));else if(r.exec(a))s(new Error("登录用户为8-16位数字和字母的组合"));else if(a.match(i)){if(e.editFlag)return void s();e.$ajaxPromise(d.a,{oprFlag:"1",roleId:a},"POST",!0).then(function(e){"1"==e.flag?s(new Error("用户已存在")):s()})}else s(new Error("登录用户为8-16位数字和字母的组合"))},trigger:"blur"}],passwd:[{pattern:/^.{6,18}$/,message:"登录密码为6-18位字母、数字和字符至少两种组合",trigger:"blur"},{validator:function(t,a,s){var i=/^[0-9]{1,20}$/;if(e.addForm.passwd==e.addForm.userName&&s(new Error("用户名密码不能相同")),i.exec(a))s(new Error("登录密码为6-18位字母、数字和字符至少两种组合"));else if(i=/^[a-zA-Z]{1,20}$/,i.exec(a))s(new Error("登录密码为6-18位字母、数字和字符至少两种组合"));else{var o=/^[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]{1,20}$/;o.exec(a)?s(new Error("登录密码为6-18位字母、数字和字符至少两种组合")):s()}},trigger:"blur"}],mchts:[{validator:t,trigger:"change"}]},current_index:0,innerHTML:"",show_tree:!1,show_add_tree:!1,showAddUserTable:!1,editFlag:!1,totalCnt:0,commerceInfo:{},selectTableCols:[],staticData:{},userStatus:[{label:"有效",value:"00"},{label:"冻结",value:"01"}],addForm:{userName:"",status:"00",up:!1,passwd:"",mchts:[]},opsFlag:!1,staticLoadConfig:n.a,dict:c,showSetTable:!1,QRSHow:!1,PWDSHow:!1,usersData:[],currentNodeKey:[],currentNodeKeyOfAdd:[],defaultCheckedKeys:[],treeData:[{id:1,label:"加盟商一号"},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:5,label:"加盟商三号"}],treeData2:[{id:1,label:"加盟商一号"},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:6,label:"加盟商二号",children:[{id:3,label:"加盟商二号分店二号"},{id:4,label:"加盟商二号分店一号"}]},{id:5,label:"加盟商三号"}],commerceData:{showUrl:"",mchtId:"",mchtSimpleName:"",mchtType:"",mchtAreaName:"",mchtResonName:"",mchtPhone:"",brno:"",mchtOrgName:"",mchtAmrName:"",mchtAmrNo:"",mchtAmrPhone:"",mchtMngNo:"",mchtName:"",regDate:"",mchtEmail:"",inStat:"",mchtStat:""}}},computed:o()({},a.i(h.c)({mchtInfo:"getSystemSelectMcht",userInfo:"getSystemUserInfo"})),methods:{closeSetTable:function(){this.opsFlag=!1},openSetTable:function(){var e=this;a.i(f.setTimeout)(function(){e.opsFlag=!1},100)},showQuanxian:function(e){var t=this;this.$queryQuanxianTree("/SOA/411.411179",{roleId:e,oprFlag:"1"}).then(function(e){t.quanxianTree=e.tree,t.quanxianSelected=e.selectIds,t.showQuanxianTable=!0,s(t.quanxianTree)})},addUser:function(){var e=this;this.editFlag=!1,this.showAddUserTable=!0,this.currentNodeKeyOfAdd=[],this.show_add_tree=!1,a.i(f.setTimeout)(function(){e.addForm={userName:"",status:"00",up:!1,passwd:"",mchts:[]}},1e3),this.$refs.tree_add.setCheckedKeys(this.currentNodeKeyOfAdd)},closeAddTable:function(){this.editFlag=!1,this.currentNodeKeyOfAdd=[],this.$refs.ruleForm.resetFields(),this.addForm={userName:"",status:"00",up:!1,passwd:"",mchts:[]},this.$refs.tree_add.setCheckedKeys(this.currentNodeKeyOfAdd)},editUser:function(){var e=this;this.addForm={userName:this.selectTableCols[0].name,status:this.selectTableCols[0].status,up:this.selectTableCols[0].up,passwd:this.selectTableCols[0].passwd,mchts:[]},this.$ajaxPromise(d.b,{roleId:this.selectTableCols[0].name,oprFlag:"1"},"POST",!0).then(function(t){e.currentNodeKeyOfAdd=[],e.addForm.mchts=[],t.list&&t.list.forEach(function(t){"1"==t.changeFlag&&(e.currentNodeKeyOfAdd.push(t.changeMchtId),e.addForm.mchts.push({id:t.changeMchtId,mchtName:t.mchtSimpleName}))}),e.showAddUserTable=!0,e.editFlag=!0,e.show_add_tree=!1,e.$refs.tree_add.setCheckedKeys(e.currentNodeKeyOfAdd),e.show_add_tree=!1})},deleteUser:function(){var e=this;this.$ajaxPromise(d.a,{roleId:this.selectTableCols[0].name,oprFlag:"4"},"POST",!0).then(function(t){e.setOtherUsers(1,5),e.showDeleteNotice=!1,e.$notify({title:"提示",message:"用户删除成功",type:"success",duration:2e3})})},delete:function(e){},edit:function(e){this.show_tree=!1,this.usersData[e].editAble=!0},save:function(e){this.show_tree=!1,this.usersData[e].editAble=!1,this.usersData[this.current_index].up=!1;var t=/^[a-zA-Z0-9]{6,18}$/;this.usersData[this.current_index].name.match(t)},handleSelectionChange:function(e){this.selectTableCols[0]=e,this.opsFlag=!0},saveNewUser:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(t){var s={oprFlag:e.editFlag?"3":"2",roleId:e.addForm.userName,roleState:e.addForm.status};if(!e.editFlag||"????????0"!=e.addForm.passwd){var i=e.$generateAesKey(),o=a.i(m.a)(a.i(p.a)(e.addForm.passwd),i,i),r=e.$getRsaData(i,"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCr5WQEMYZqAy+VRSHYNB/HmoRm2nuExxTvrewIQmyXAgX6Ycb3bHxHpt097Wmzjb0/yVwimpM+zxVCRHtJXYcL0X8AeyCIr15jwTHdEzCoaxU6nB+8tLI0bpzXRNyxT3H6Z7+VIMzXEpH5Lc9iUcpFT44+UqnXSqplk9bEZoaJhQIDAQAB");s.key=r,s.roleLoginPwd=o}e.$ajaxPromise(d.a,s,"POST",!0).then(function(t){e.loading_of_add=!0;var a={roleId:e.addForm.userName,oprFlag:"2",list:[]};e.currentNodeKeyOfAdd.forEach(function(e){a.list.push({changeMchtId:e})}),e.$ajaxPromise(d.b,a,"POST",!0).then(function(t){e.showAddUserTable=e.show_add_tree=!1,e.setOtherUsers(1,5),e.loading_of_add=!1,e.$notify({title:"提示",message:"用户"+(e.editFlag?"修改":"新增")+"成功",type:"success",duration:2e3})}).catch(function(t){e.loading_of_add=!1,"4110081"==t.respCode&&e.$emit("logout")})}).catch(function(t){e.loading_of_add=!1,"4110081"==t.respCode&&e.$emit("logout")})}})},checkChangeOfAdd:function(e,t,s){var i=this;if(!this.lock){if(!t)return this.deleteItemOfAdd(e.id),this.finder(this.treeData,e.id),void(this.finderNode&&(this.finderNode.children&&this.deleteAllChildren(this.finderNode.children),this.lock=!0,this.$refs.tree_add.setCheckedKeys(this.currentNodeKeyOfAdd),a.i(f.setTimeout)(function(){i.lock=!1},100)));var o=this.addForm.mchts,r=!1;o.forEach(function(t){t.id==e.id&&(r=!0)}),r||(o.push({id:e.id,mchtName:e.label}),this.currentNodeKeyOfAdd.push(e.id),this.finder(this.treeData,e.id),this.finderNode&&this.finderNode.children&&this.selectAllChildren(this.finderNode.children),this.lock=!0,this.$refs.tree_add.setCheckedKeys(this.currentNodeKeyOfAdd),a.i(f.setTimeout)(function(){i.lock=!1},100))}},finder:function(e,t){for(var a=0;a<e.length;a++){if(e[a].id==t){this.finderNode=e[a];break}e[a].children&&this.finder(e[a].children,t)}},deleteAllChildren:function(e){for(var t=0;t<e.length;t++){var a=e[t].id;this.currentNodeKeyOfAdd.find(function(e){return e==a})&&this.deleteItemOfAdd(a),e[t].children&&this.deleteAllChildren(e[t].children)}},selectAllChildren:function(e){for(var t=0;t<e.length;t++){var a=e[t].id;this.currentNodeKeyOfAdd.find(function(e){return e==a})||(this.currentNodeKeyOfAdd.push(a),this.addForm.mchts.push({id:e[t].id,mchtName:e[t].label})),e[t].children&&this.selectAllChildren(e[t].children)}},checkChange:function(e,t,a){if(!t)return void this.deleteItem(e.id);var s=this.usersData[this.current_index].userArray,i=!1;s.forEach(function(t){t.id==e.id&&(i=!0)}),i||(this.usersData[this.current_index].userArray.push({id:e.id,mchtName:e.label}),this.currentNodeKey.push(e.id))},turnOver:function(e){},togger_tree_add:function(){this.addForm.up=!this.addForm.up,this.show_add_tree=!this.show_add_tree,this.$refs.tree_add.setCheckedKeys(this.currentNodeKeyOfAdd)},togger_tree:function(e){if(this.current_index!=e&&this.show_tree)return this.usersData[this.current_index].up=!1,this.current_index=e,void(this.show_tree=!1);var t=[];this.usersData[e].userArray.forEach(function(e){t.push(e.id)}),this.currentNodeKey=t,this.$refs.tree.setCheckedKeys(t),this.usersData[e].up=!this.usersData[e].up,this.show_tree=!this.show_tree,document.getElementById("tree_container").style.top=95+42*e+"px",this.current_index=e},setOtherUsers:function(e,t){var a=this;this.pageNo=e;var s={pageNo:e,pageSize:t};this.$ajaxPromise(d.c,s,"POST",!0).then(function(e){var t=[],s=0;e.list.forEach(function(e){t.push({index:s,name:e.roleId,passwd:"????????0",userArray:[],up:!1,status:e.roleState,editAble:!1}),s++}),a.totalCnt=e.totalCnt,a.usersData=t,a.showSetTable=!0})},add:function(){this.usersData.forEach(function(e){e.up=!1}),this.current_index=this.usersData.length,this.show_tree=!1,this.usersData.push({index:this.usersData.length,name:"",passwd:"",userArray:[],up:!1,status:1,editAble:!1}),this.currentNodeKey=[],this.$refs.tree.setCheckedKeys(this.currentNodeKey)},deleteItemOfAdd:function(e){for(var t=this.addForm.mchts,a=this.currentNodeKeyOfAdd,s=-1,i=-1,o=0;o<t.length;o++)t[o].id==e&&(s=o);for(var o=0;o<a.length;o++)a[o]==e&&(i=o);-1!=s&&t.splice(s,1),-1!=i&&a.splice(i,1)},deleteItem:function(e,t){t&&(this.current_index=t);for(var a=this.usersData[this.current_index].userArray,s=this.currentNodeKey,i=-1,o=-1,r=0;r<a.length;r++)a[r].id==e&&(i=r);for(var r=0;r<s.length;r++)s[r]==e&&(o=r);-1!=i&&a.splice(i,1),-1!=o&&s.splice(o,1),this.$refs.tree.setCheckedKeys(this.currentNodeKey)},goPrePage:function(){this.pageNo--,this.setOtherUsers(this.pageNo,5)},goNextPage:function(){this.pageNo++,this.setOtherUsers(this.pageNo,5)},pageChange:function(e){this.pageNo=e,this.setOtherUsers(this.pageNo,5)},queryMchtTree:function(){var e=this;this.$queryMchtTree(d.d,{}).then(function(t){e.treeData=t})},handleQuery:function(){var e=this,t=this.userInfo.phoneNo;this.$ajaxPromise(d.e,{phoneNo:t},"POST",!0).then(function(t){if("4110000"===t.respCode)switch(e.commerceData=t,e.commerceData.mchtType){case"01":e.commerceData.mchtType="企业";break;case"04":e.commerceData.mchtType="个体";break;case"06":e.commerceData.mchtType="小微"}}).catch(function(t){"4110081"==t.respCode&&e.$emit("logout")})},downloadImg:function(){(new Image).src=this.commerceData.showUrl+this.commerceData.qrCode,this.QRSHow=!1}},created:function(){this.handleQuery(),this.queryMchtTree()}}},1130:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"mchtType",function(){return s}),a.d(t,"inStat",function(){return i}),a.d(t,"mchtStat",function(){return o});var s=[{key:"1",value:"小微商户"},{key:"2",value:"特约商户"},{key:"3",value:"助农商户"},{key:"10",value:"结算子商户"},{key:"11",value:"结算集团商户"}],i=[{key:"0",value:"未审核"},{key:"1",value:"审核中"},{key:"2",value:"审核失败"},{key:"3",value:"入网失败"},{key:"4",value:"入网成功"}],o=[{key:"00",value:"正常"},{key:"01",value:"冻结"},{key:"02",value:"注销"},{key:"03",value:"添加待审核"},{key:"04",value:"修改待审核"},{key:"05",value:"冻结待审核"},{key:"06",value:"恢复待审核"},{key:"07",value:"注销待审核"},{key:"08",value:"新增被拒绝"},{key:"09",value:"修改被拒绝"}]},1131:function(e,t,a){"use strict";a.d(t,"e",function(){return s}),a.d(t,"c",function(){return i}),a.d(t,"d",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return l});var s="/SOA/411.411301",i="/SOA/411.411177",o="/SOA/411.411180",r="/SOA/411.411178",l="/SOA/411.411179"},1174:function(e,t,a){t=e.exports=a(1075)(),t.push([e.i,".add_user_page{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background:#eff4f3;height:100%;position:relative;font-size:14px}.add_user_page .page-title{background:url("+a(1209)+") no-repeat;background-size:40px 40px}.add_user_page .el-button{padding:4px 20px;border:1px dashed #ff5505;color:#ff5505;font-size:12px}.add_user_page .el-badge__content{line-height:16px;font-size:11px}.add_user_page .page-content{background:#fff;height:100%;margin:24px;-ms-flex:1;flex:1;padding-bottom:24px}.add_user_page .page-content .info-body{padding-left:53px;border-bottom:1px solid #eaf0f4;padding-bottom:20px}.add_user_page .page-content .info-body:last-child{border-bottom:none}.add_user_page .page-content .info-body .el-row .el-col{padding:8px 0;color:#333}.add_user_page .page-content .info-body .el-row .col-border{color:#666}.add_user_page .page-content .info-body .el-row .col-qr{padding:0}.add_user_page .page-content .info-body .el-row .col-qr .qr-img{width:24px;height:24px}.add_user_page .downloadImg{display:inline-block;width:120px;height:34px;border-radius:2px;line-height:34px}.add_user_page header{vertical-align:middle;height:96px;padding:12px 32px 0;background:#fff}.add_user_page header p{font-size:14px;font-family:PingFangSC-Regular;font-weight:400;color:rgba(0,0,0,.65);line-height:22px}.add_user_page header p:nth-child(2){font-size:20px;font-family:PingFangSC-Medium;font-weight:bolder;color:rgba(0,0,0,.85);line-height:28px}.add_user_page .select-tree input{border:0 solid rgba(0,0,0,.1)}.add_user_page .el-close-tag{color:#909399;background:#c0c4cc;border-radius:50%}.add_user_page .setOtherUsersTable .el-dialog{width:75%}.add_user_page .el-tree{background-color:#eff4f3;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);max-height:160px;overflow-y:scroll}.add_user_page .sanjiao{width:0;height:0;position:relative;left:30px;border-bottom:7px solid #eff4f3;border-right:7px solid transparent;border-left:7px solid transparent;border-top:7px solid transparent}.add_user_page .arrow{width:8px;height:8px;background-color:#eff4f3}.add_user_page .custom_elementui .el-form-item__error{font-size:12px;padding-left:0!important}.add_user_page .custom_elementui .el-pagination__jump>.el-pagination__editor{width:45px}.add_user_page .add-dialog,.add_user_page .add-dialog .el-dialog__body{min-height:500px}.add_user_page .el-input{width:280px}.delete-dialog .el-dialog__body{min-height:368px}",""])},1196:function(e,t,a){var s=a(1174);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(1076)("3d98e9fa",s,!0)},1201:function(e,t){e.exports=[]},1209:function(e,t){e.exports="data:image/png;base64,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"},1246:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("function-page",{staticClass:"add_user_page",staticStyle:{height:"100%"},attrs:{isLoading:e.mixinShowWatcherLoading}},[a("div",{staticClass:"custom_elementui page",attrs:{slot:"content"},slot:"content"},[a("nav-header",{attrs:{"first-title":"商户中心","second-title":"商户信息","third-title":"商户信息"}}),e._v(" "),a("div",{staticClass:"page-content"},[a("div",{staticClass:"info-title"},[e._v("商户基本信息")]),e._v(" "),a("div",{staticClass:"info-body"},[a("el-row",[a("el-col",{attrs:{span:6}},[e._v("商户简称："+e._s(e.commerceData.mchtSimpleName?e.commerceData.mchtSimpleName:"-"))]),e._v(" "),a("el-col",{attrs:{span:6,offset:"2"}},[e._v("商户号："+e._s(e.commerceData.mchtId?e.commerceData.mchtId:"-"))]),e._v(" "),a("el-col",{attrs:{span:5,offset:"4"}},[e._v("商户性质："+e._s(e.commerceData.mchtType))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[e._v("所属机构："+e._s(e.commerceData.mchtOrgName?e.commerceData.mchtOrgName:"-"))]),e._v(" "),a("el-col",{attrs:{span:6,offset:"2"}},[e._v("所属地区："+e._s(e.commerceData.mchtAreaName?e.commerceData.mchtAreaName:"-"))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[e._v("联系人："+e._s(e.commerceData.mchtPersonName?e.commerceData.mchtPersonName:"-"))]),e._v(" "),a("el-col",{attrs:{span:6,offset:"2"}},[e._v("联系电话："+e._s(e.commerceData.mchtPhone?e.commerceData.mchtPhone:"-"))]),e._v(" "),e.userInfo.mchtLicnExpFlag&&"0"==e.userInfo.userType&&"1"!=e.userInfo.dataList[0].acctTypeCode&&!e.userInfo.userInfo?a("el-col",{attrs:{span:5,offset:"4"}},[a("el-badge",{attrs:{value:"new"}},[a("el-button",{on:{click:function(t){e.$emit("updateInfo"),e.$router.push({path:"/system/antiMoneyLaundering",query:{mchtNo:e.mchtInfo.mchtLicnNo,licnType:e.mchtInfo.mchtLicnType}})}}},[e._v("证件更新")])],1)],1):e._e(),e._v(" "),e.userInfo.mchtLicnExpFlag||"0"!=e.userInfo.userType||"1"==e.userInfo.dataList[0].acctTypeCode||e.userInfo.userInfo?e._e():a("el-col",{attrs:{span:5,offset:"4"}},[a("el-button",{on:{click:function(t){e.$emit("updateInfo"),e.$router.push({path:"/system/antiMoneyLaundering",query:{mchtNo:e.mchtInfo.mchtLicnNo,licnType:e.mchtInfo.mchtLicnType}})}}},[e._v("证件更新")])],1)],1)],1),e._v(" "),a("div",{staticClass:"info-title"},[e._v("我的客户经理")]),e._v(" "),a("div",{staticClass:"info-body"},[a("el-row",[a("el-col",{attrs:{span:6}},[e._v("经理工号："+e._s(e.commerceData.mchtAmrNo?e.commerceData.mchtAmrNo:"-"))]),e._v(" "),a("el-col",{attrs:{span:6,offset:"2"}},[e._v("经理姓名："+e._s(e.commerceData.mchtAmrName?e.commerceData.mchtAmrName:"-"))]),e._v(" "),a("el-col",{attrs:{span:5,offset:"4"}},[e._v("经理电话："+e._s(e.commerceData.mchtAmrPhone?e.commerceData.mchtAmrPhone:"-"))])],1),e._v(" "),a("el-row")],1),e._v(" "),a("div",{staticClass:"info-title"},[e._v("我的签约信息")]),e._v(" "),a("div",{staticClass:"info-body"},[a("el-row",[a("el-col",{attrs:{span:6}},[e._v("结算账号："+e._s(e.commerceData.setlAcctNo?e.commerceData.setlAcctNo:"-"))]),e._v(" "),a("el-col",{attrs:{span:6,offset:"2"}},[e._v("结算账户户名："+e._s(e.commerceData.setlAcctName?e.commerceData.setlAcctName:"-"))])],1)],1),e._v(" "),a("div",{staticClass:"info-body",staticStyle:{"margin-top":"20px"}},[a("el-row",[a("el-col",{attrs:{span:22}},[e.userInfo.roleId?e._e():a("div",{staticStyle:{cursor:"pointer","border-radius":"4px","text-align":"center",height:"32px",border:"1px dashed rgba(255,85,5,1)","line-height":"32px",color:"rgba(255,85,5,0.65)","font-size":"14px"},on:{click:function(t){return e.setOtherUsers(1,5)}}},[e._v("设置其他用户")])])],1)],1)]),e._v(" "),a("el-dialog",{attrs:{"show-close":!1,visible:e.QRSHow,"custom-class":"custom-dialog-commerce-qr","modal-append-to-body":!1},on:{"update:visible":function(t){e.QRSHow=t}}},[a("div",{staticStyle:{"text-align":"center","min-width":"200px","margin-bottom":"10px"}},[a("img",{staticStyle:{height:"auto",width:"250px"},attrs:{src:e.commerceData.showUrl+e.commerceData.qrCode,alt:""}})]),e._v(" "),a("div",{staticClass:"info-footer"},[a("a",{staticClass:"button-background downloadImg",attrs:{href:e.commerceData.showUrl+e.commerceData.qrCode,download:e.commerceData.mchtSimpleName,target:"_blank"}},[e._v("下载")]),e._v(" "),a("el-button",{staticClass:"button-return ",attrs:{type:""},on:{click:function(t){e.QRSHow=!1}}},[e._v("返回")])],1)]),e._v(" "),a("el-dialog",{attrs:{"show-close":!0,visible:e.showSetTable,"modal-append-to-body":!1,width:"80%","custom-class":"add-dialog"},on:{"update:visible":function(t){e.showSetTable=t},open:e.openSetTable,close:e.closeSetTable}},[a("h2",[e._v("设置其他用户")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-button",{on:{click:e.addUser}},[e._v("新增"),a("i",{staticClass:"el-icon-plus el-icon--right"})])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{disabled:!e.opsFlag},on:{click:e.editUser}},[e._v("编辑 "),a("i",{staticClass:"el-icon-edit el-icon--right"})])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{disabled:!e.opsFlag},on:{click:function(t){e.showDeleteNotice=!0}}},[e._v("删除 "),a("i",{staticClass:"el-icon-delete el-icon--right"})])],1)],1),e._v(" "),a("div",{staticStyle:{position:"relative"}},[a("el-table",{attrs:{data:e.usersData,type:"index","empty-text":" ","highlight-current-row":""},on:{"current-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"登录用户",prop:"name",autocomplete:"off"}}),e._v(" "),a("el-table-column",{attrs:{label:"登陆密码",prop:"passwd",autocomplete:"off"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v("******")]),e._v(" "),e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s("00"==t.row.status?"有效":"冻结"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"登陆权限",prop:"mchtArray"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"select-tree",staticStyle:{position:"relative"}},[a("div",{staticClass:"el-input el-input--suffix"},[a("p",{staticStyle:{cursor:"pointer","font-size":"14px",color:"rgba(255,85,5,1)"},on:{click:function(a){return a.stopPropagation(),e.showQuanxian(t.row.name)}}},[e._v("详情")])])])]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show_tree,expression:"show_tree"}],staticStyle:{"min-width":"260px",position:"absolute",top:"95px",right:"80px",background:"#fff","z-index":"1000"},attrs:{id:"tree_container"}},[a("el-tree",{ref:"tree",attrs:{"check-strictly":"true",data:e.treeData,"default-expand-all":!0,"default-checked-keys":e.defaultCheckedKeys,"show-checkbox":"true","node-key":"id"},on:{"check-change":e.checkChange}})],1)],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"24px",position:"absolute",bottom:"20px",width:"100%","box-sizing":"border-box","padding-right":"40px"},attrs:{background:"","page-size":"5","current-page":e.pageNo,total:e.totalCnt,"hide-on-single-page":!1,layout:"->,total,prev,pager,next,jumper"},on:{"prev-click":e.goPrePage,"next-click":e.goNextPage,"current-change":e.pageChange}})],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_of_add,expression:"loading_of_add"}],attrs:{"show-close":!1,visible:e.showDeleteNotice,top:"100px","custom-class":"delete-dialog","modal-append-to-body":!1,width:"512px"},on:{"update:visible":function(t){e.showDeleteNotice=t}}},[a("h3",{staticStyle:{"text-align":"center","border-bottom":"1px solid #efefef","padding-bottom":"20px"}},[e._v("删除")]),e._v(" "),a("h2",{staticStyle:{"text-align":"center","margin-top":"80px"}},[e._v("确认删除此条信息？")]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"100px"}},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[a("el-button",{attrs:{type:"primary"},on:{click:e.deleteUser}},[e._v("删除")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[a("el-button",{on:{click:function(t){e.showDeleteNotice=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_of_add,expression:"loading_of_add"}],attrs:{"show-close":!0,visible:e.showAddUserTable,"modal-append-to-body":!1,width:"60%"},on:{close:e.closeAddTable,"update:visible":function(t){e.showAddUserTable=t},click:function(t){e.show_add_tree=!1}}},[a("div",{on:{click:function(t){e.show_add_tree=!1}}},[a("h3",{staticStyle:{"text-align":"center"},on:{click:function(t){e.show_add_tree=!1}}},[e._v(e._s(this.editFlag?"修改":"新增")+"用户")]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{inline:!0,"label-position":e.label,"label-width":"80px",rules:e.rules,model:e.addForm},on:{click:function(t){e.show_add_tree=!1}}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名：",prop:"userName"}},[a("el-input",{attrs:{disabled:e.editFlag,autocomplete:"off"},model:{value:e.addForm.userName,callback:function(t){e.$set(e.addForm,"userName",t)},expression:"addForm.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"密码：",prop:"passwd"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.addForm.passwd,callback:function(t){e.$set(e.addForm,"passwd",t)},expression:"addForm.passwd"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态：",prop:"status"}},[a("el-select",{attrs:{disabled:!e.editFlag},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},e._l(e.userStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"权限：",prop:"mchts"}},[a("el-input",{staticStyle:{position:"absolute",visibility:"hidden"},model:{value:e.addForm.mchts,callback:function(t){e.$set(e.addForm,"mchts",t)},expression:"addForm.mchts"}}),e._v(" "),a("div",{staticClass:"select-tree",staticStyle:{position:"relative",border:"1px solid #c0c4cc"}},[a("div",{staticClass:"el-select__tags",staticStyle:{"max-width":"90%"}},[e.addForm.mchts.length>0?a("span",{staticClass:"el-tag el-tag--info",staticStyle:{"margin-left":"10px"}},[a("span",{staticClass:"el-select-item-text"},[e._v(e._s(e.addForm.mchts[0].mchtName))])]):e._e(),e._v(" "),e.addForm.mchts.length>1?a("span",{staticClass:"el-tag el-tag--info",staticStyle:{"margin-left":"2px"}},[a("span",{staticClass:"el-select-item-text"},[e._v(e._s("+"+e.addForm.mchts.length))])]):e._e()]),e._v(" "),a("div",{staticClass:"el-input el-input--suffix"},[a("input",{staticClass:"el-input__inner",attrs:{type:"text",readonly:"",placeholder:0==e.addForm.mchts.length?"请选择":""}}),e._v(" "),a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{class:{"el-icon-arrow-down":!e.addForm.up,"el-icon-arrow-up":e.addForm.up},staticStyle:{cursor:"pointer"},on:{click:function(t){return t.stopPropagation(),e.togger_tree_add(t)}}})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show_add_tree,expression:"show_add_tree"}],staticStyle:{"max-height":"160px","min-width":"260px",position:"absolute",top:"34px",left:"0px","background-color":"transparent","z-index":"1000"},attrs:{id:"tree_container"}},[a("div",{staticClass:"sanjiao"}),e._v(" "),a("el-tree",{ref:"tree_add",attrs:{data:e.treeData,"default-expand-all":!0,"check-strictly":"true","default-checked-keys":e.defaultCheckedKeysOfAdd,"show-checkbox":"true","node-key":"id"},on:{"check-change":e.checkChangeOfAdd}})],1)])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveNewUser}},[e._v("保存")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},[a("el-button",{on:{click:function(t){e.showAddUserTable=!1}}},[e._v("取消")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px"}},[a("p",[e._v("注：登录用户为8-16位数字字母的组合")]),e._v(" "),a("p",[a("span",{staticStyle:{visibility:"hidden"}},[e._v("注：")]),e._v("登录密码为6-18位字母、数字和字符至少两种组合")])])],1)],1)]),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_of_add,expression:"loading_of_add"}],attrs:{"show-close":!0,visible:e.showQuanxianTable,"modal-append-to-body":!1,width:"50%"},on:{"update:visible":function(t){e.showQuanxianTable=t}}},[a("el-tree",{ref:"tree_add",attrs:{data:e.quanxianTree,"check-strictly":"true","default-expand-all":"","empty-text":"暂未给该账户分配店铺权限","default-checked-keys":e.quanxianSelected,"show-checkbox":"","node-key":"id"},on:{"node-click":e.checkChangeOfAdd}}),e._v(" "),a("h4",{staticStyle:{margin:"30px 0 0px"}},[e._v("注：无法修改店铺权限，如需修改，请勾选中要修改的账户点击编辑按钮修改")])],1)],1)])},staticRenderFns:[]}}});